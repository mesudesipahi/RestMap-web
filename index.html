<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RestMap</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    
    <!-- Font Awesome icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Kendi CSS dosyamÄ±z -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- BaÅŸlÄ±k -->
        <header>
            <h1><i class="fas fa-map-marker-alt"></i> RestMap</h1>
            <p>Konumunuzu bulup yakÄ±nÄ±ndaki restoran ve kafeleri keÅŸfedin!</p>
        </header>

        <!-- API Key ayarlarÄ± -->
        <div id="apiSettingsContainer" class="api-settings" style="display: none;">
            <div class="api-settings-content">
                <h4><i class="fas fa-key"></i> API AyarlarÄ±</h4>
                <p>FotoÄŸraflar iÃ§in Unsplash API key'i girin (opsiyonel):</p>
                <div class="api-input-group">
                    <input type="text" id="unsplashApiKey" placeholder="Unsplash Access Key">
                    <button id="saveApiKeyBtn" class="btn-secondary">Kaydet</button>
                </div>
                <small>Unsplash API key'i olmadan da temel fotoÄŸraflar gÃ¶sterilir.</small>
            </div>
        </div>

        <!-- Kontroller -->
        <div class="controls">
            <button id="findLocationBtn" class="btn-primary">
                <i class="fas fa-crosshairs"></i> Konumumu Bul
            </button>
            <button id="toggleApiSettings" class="btn-settings" title="API AyarlarÄ±">
                <i class="fas fa-cog"></i>
            </button>
            <button id="showStatsBtn" class="btn-stats" title="Ä°statistikler">
                <i class="fas fa-chart-bar"></i>
            </button>
            <div id="locationStatus" class="status-message"></div>
            
            <!-- Filtreler -->
            <div id="filtersContainer" class="filters-container" style="display: none;">
                <h4><i class="fas fa-filter"></i> Filtreler</h4>
                <div class="filters-row">
                    <div class="filter-group">
                        <label>Mekan Tipi:</label>
                        <select id="typeFilter">
                            <option value="all">TÃ¼mÃ¼</option>
                            <option value="restaurant">Restoran</option>
                            <option value="cafe">Kafe</option>
                            <option value="fast_food">Fast Food</option>
                            <option value="bar">Bar</option>
                            <option value="pub">Pub</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Maksimum Mesafe:</label>
                        <select id="distanceFilter">
                            <option value="5">5 km</option>
                            <option value="2">2 km</option>
                            <option value="1" selected>1 km</option>
                            <option value="0.5">500 m</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>SÄ±ralama:</label>
                        <select id="sortFilter">
                            <option value="distance">Mesafeye GÃ¶re</option>
                            <option value="name">Ä°sme GÃ¶re</option>
                        </select>
                    </div>
                    
                    <button id="applyFiltersBtn" class="btn-secondary">
                        <i class="fas fa-search"></i> Filtrele
                    </button>
                </div>
            </div>
        </div>

        <!-- Ana iÃ§erik alanÄ± -->
        <div class="main-content">
            <!-- Harita alanÄ± -->
            <div class="map-container">
                <div id="map"></div>
            </div>

            <!-- SonuÃ§lar paneli -->
            <div class="results-panel">
                <div class="results-header">
                    <h3><i class="fas fa-list"></i> YakÄ±ndaki Mekanlar</h3>
                    <div id="resultsCount" class="results-count"></div>
                </div>
                <div id="loadingSpinner" class="loading-spinner" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i> AranÄ±yor...
                </div>
                <div id="resultsContainer" class="results-container">
                    <p class="no-results">Konum bulunduÄŸunda yakÄ±ndaki mekanlar burada gÃ¶rÃ¼necek.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Detay Modal -->
    <div id="placeModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Mekan DetaylarÄ±</h2>
                <button class="modal-close" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="modalContent">
                    <!-- Dinamik iÃ§erik buraya gelecek -->
                </div>
            </div>
        </div>
    </div>

    <!-- Ä°statistikler Modal -->
    <div id="statsModal" class="modal" style="display: none;">
        <div class="modal-content stats-modal">
            <div class="modal-header">
                <h2><i class="fas fa-chart-bar"></i> Ä°statistikler & Favoriler</h2>
                <button class="modal-close" onclick="closeStatsModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="statsContent">
                    <!-- Dinamik iÃ§erik buraya gelecek -->
                </div>
            </div>
        </div>
    </div>

    <!-- Not Modal -->
    <div id="noteModal" class="modal" style="display: none;">
        <div class="modal-content note-modal">
            <div class="modal-header">
                <h2><i class="fas fa-sticky-note"></i> <span id="noteModalTitle">Not Ekle</span></h2>
                <button class="modal-close" onclick="closeNoteModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="note-form">
                    <div class="note-place-info">
                        <div id="notePlaceName" class="note-place-name"></div>
                        <div id="notePlaceAddress" class="note-place-address"></div>
                    </div>
                    <div class="note-input-group">
                        <label for="noteTextarea">Notunuz:</label>
                        <textarea 
                            id="noteTextarea" 
                            placeholder="Bu mekan hakkÄ±ndaki dÃ¼ÅŸÃ¼ncelerinizi yazÄ±n... (Ã¶rn: 'Kahveleri Ã§ok gÃ¼zel', 'GÃ¼rÃ¼ltÃ¼lÃ¼ ortam', 'Fiyatlar makul')"
                            maxlength="500"
                            rows="6"
                        ></textarea>
                        <div class="char-counter">
                            <span id="charCount">0</span>/500 karakter
                        </div>
                    </div>
                    <div class="note-suggestions">
                        <label>HÄ±zlÄ± Notlar:</label>
                        <div class="suggestion-tags">
                            <button type="button" class="suggestion-tag" onclick="addSuggestion('Kahveleri mÃ¼kemmel â˜•')">â˜• Kahve gÃ¼zel</button>
                            <button type="button" class="suggestion-tag" onclick="addSuggestion('HÄ±zlÄ± servis ğŸš€')">ğŸš€ HÄ±zlÄ± servis</button>
                            <button type="button" class="suggestion-tag" onclick="addSuggestion('Sakin ortam ğŸŒ¿')">ğŸŒ¿ Sakin ortam</button>
                            <button type="button" class="suggestion-tag" onclick="addSuggestion('Fiyatlar uygun ğŸ’°')">ğŸ’° Uygun fiyat</button>
                            <button type="button" class="suggestion-tag" onclick="addSuggestion('WiFi hÄ±zlÄ± ğŸ“¶')">ğŸ“¶ Ä°yi WiFi</button>
                            <button type="button" class="suggestion-tag" onclick="addSuggestion('GÃ¼rÃ¼ltÃ¼lÃ¼ ortam ğŸ”Š')">ğŸ”Š GÃ¼rÃ¼ltÃ¼lÃ¼</button>
                        </div>
                    </div>
                    <div class="note-actions">
                        <button id="saveNoteBtn" class="btn-primary" onclick="saveUserNote()">
                            <i class="fas fa-save"></i> Kaydet
                        </button>
                        <button id="deleteNoteBtn" class="btn-danger" onclick="deleteUserNote()" style="display: none;">
                            <i class="fas fa-trash"></i> Sil
                        </button>
                        <button class="btn-secondary" onclick="closeNoteModal()">
                            <i class="fas fa-times"></i> Ä°ptal
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Etiket Modal -->
    <div id="tagsModal" class="modal" style="display: none;">
        <div class="modal-content tags-modal">
            <div class="modal-header">
                <h2><i class="fas fa-tags"></i> <span id="tagsModalTitle">Etiketler</span></h2>
                <button class="modal-close" onclick="closeTagsModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tags-form">
                    <div class="tags-place-info">
                        <div id="tagsPlaceName" class="tags-place-name"></div>
                        <div id="tagsPlaceAddress" class="tags-place-address"></div>
                    </div>
                    
                    <!-- Mevcut Etiketler -->
                    <div class="current-tags-section">
                        <label>Mevcut Etiketler:</label>
                        <div id="currentTagsList" class="current-tags-list">
                            <!-- Dinamik olarak doldurulacak -->
                        </div>
                    </div>
                    
                    <!-- Ã–nerilen Etiketler -->
                    <div class="suggested-tags-section">
                        <label>Ã–nerilen Etiketler:</label>
                        <div class="suggested-tags-grid">
                            <!-- Yemek & Ä°Ã§ecek -->
                            <div class="tag-category">
                                <h5>ğŸ½ï¸ Yemek & Ä°Ã§ecek</h5>
                                <div class="tag-options">
                                    <button type="button" class="tag-option" data-tag="lezzetli">ğŸ˜‹ Lezzetli</button>
                                    <button type="button" class="tag-option" data-tag="kahve-guzel">â˜• Kahve GÃ¼zel</button>
                                    <button type="button" class="tag-option" data-tag="fresh-food">ğŸ¥— Taze Yemek</button>
                                    <button type="button" class="tag-option" data-tag="dessert">ğŸ° TatlÄ± GÃ¼zel</button>
                                    <button type="button" class="tag-option" data-tag="breakfast">ğŸ¥ KahvaltÄ±</button>
                                    <button type="button" class="tag-option" data-tag="pizza">ğŸ• Pizza</button>
                                </div>
                            </div>
                            
                            <!-- Fiyat -->
                            <div class="tag-category">
                                <h5>ğŸ’° Fiyat</h5>
                                <div class="tag-options">
                                    <button type="button" class="tag-option" data-tag="ucuz">ğŸ’š Uygun Fiyat</button>
                                    <button type="button" class="tag-option" data-tag="orta-fiyat">ğŸ’› Orta Fiyat</button>
                                    <button type="button" class="tag-option" data-tag="pahali">ğŸ’¸ PahalÄ±</button>
                                    <button type="button" class="tag-option" data-tag="student-friendly">ğŸ“ Ã–ÄŸrenci Dostu</button>
                                </div>
                            </div>
                            
                            <!-- Ortam -->
                            <div class="tag-category">
                                <h5>ğŸŒŸ Ortam</h5>
                                <div class="tag-options">
                                    <button type="button" class="tag-option" data-tag="sakin">ğŸŒ¿ Sakin</button>
                                    <button type="button" class="tag-option" data-tag="gurultulu">ğŸ”Š GÃ¼rÃ¼ltÃ¼lÃ¼</button>
                                    <button type="button" class="tag-option" data-tag="romantik">ğŸ’• Romantik</button>
                                    <button type="button" class="tag-option" data-tag="aile-dostu">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Aile Dostu</button>
                                    <button type="button" class="tag-option" data-tag="modern">âœ¨ Modern</button>
                                    <button type="button" class="tag-option" data-tag="retro">ğŸ“» Retro</button>
                                </div>
                            </div>
                            
                            <!-- Servis -->
                            <div class="tag-category">
                                <h5>âš¡ Servis</h5>
                                <div class="tag-options">
                                    <button type="button" class="tag-option" data-tag="hizli-servis">ğŸš€ HÄ±zlÄ± Servis</button>
                                    <button type="button" class="tag-option" data-tag="yavas-servis">ğŸŒ YavaÅŸ Servis</button>
                                    <button type="button" class="tag-option" data-tag="guler-yuzlu">ğŸ˜Š GÃ¼ler YÃ¼zlÃ¼</button>
                                    <button type="button" class="tag-option" data-tag="delivery">ğŸšš Teslimat Var</button>
                                </div>
                            </div>
                            
                            <!-- Ã–zellikler -->
                            <div class="tag-category">
                                <h5>ğŸ“¶ Ã–zellikler</h5>
                                <div class="tag-options">
                                    <button type="button" class="tag-option" data-tag="wifi-hizli">ğŸ“¶ WiFi HÄ±zlÄ±</button>
                                    <button type="button" class="tag-option" data-tag="wifi-yok">ğŸ“µ WiFi Yok</button>
                                    <button type="button" class="tag-option" data-tag="acik-alan">ğŸŒ³ AÃ§Ä±k Alan</button>
                                    <button type="button" class="tag-option" data-tag="otopark">ğŸš— Otopark</button>
                                    <button type="button" class="tag-option" data-tag="erisilebilir">â™¿ EriÅŸilebilir</button>
                                    <button type="button" class="tag-option" data-tag="sigara-icilmez">ğŸš­ Sigara Ä°Ã§ilmez</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ã–zel Etiket Ekleme -->
                    <div class="custom-tag-section">
                        <label for="customTagInput">Ã–zel Etiket Ekle:</label>
                        <div class="custom-tag-input-group">
                            <input type="text" id="customTagInput" placeholder="Ã–zel etiket yazÄ±n..." maxlength="20">
                            <button type="button" id="addCustomTagBtn" onclick="addCustomTag()">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="tags-actions">
                        <button id="saveTagsBtn" class="btn-primary" onclick="savePlaceTags()">
                            <i class="fas fa-save"></i> Kaydet
                        </button>
                        <button class="btn-secondary" onclick="closeTagsModal()">
                            <i class="fas fa-times"></i> Ä°ptal
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript kÃ¼tÃ¼phaneleri -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    
    <!-- Kendi JavaScript dosyamÄ±z -->
    <script src="script.js"></script>
</body>
</html>